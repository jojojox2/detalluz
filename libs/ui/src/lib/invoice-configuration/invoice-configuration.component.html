<form [formGroup]="form">
  <mat-form-field [appearance]="fieldAppearance">
    <mat-label i18n="@@invoice-configuration.peak-hired-power.label"
      >Peak power</mat-label
    >
    <input
      matInput
      type="number"
      step="0.1"
      min="0"
      max="10"
      formControlName="peakHiredPower"
      placeholder="Peak power"
      i18n-placeholder="@@invoice-configuration.peak-hired-power.label"
    />
    <span matSuffix i18n="@@invoice-configuration.peak-hired-power.suffix">
      kW
    </span>

    <mat-error
      *ngIf="
      form.get('peakHiredPower').hasError('required')"
      i18n="@@invoice-configuration.validation-errors.peak-hired-power.required"
      >Peak power is required</mat-error
    >
    <mat-error
      *ngIf="
      !form.get('peakHiredPower').hasError('required') && form.get('peakHiredPower').hasError('min')"
      i18n="@@invoice-configuration.validation-errors.peak-hired-power.min"
      >Value cannot be negative</mat-error
    >
    <mat-error
      *ngIf="
      !form.get('peakHiredPower').hasError('required') && form.get('peakHiredPower').hasError('max')"
      i18n="@@invoice-configuration.validation-errors.peak-hired-power.max"
      >Power must be below 10 kW</mat-error
    >
  </mat-form-field>

  <div class="link-power">
    <button
      type="button"
      mat-mini-fab
      color="primary"
      aria-label="Link power values"
      class="link-power-button"
      [class.linked]="linkPowerValues"
      (click)="toggleLinkPowerValues()"
      title="Link power values"
      i18n-title="@@invoice-configuration.link-icon.aria-label"
      aria-label="Link power values"
      i18n-aria-label="@@invoice-configuration.link-icon.aria-label"
    >
      <mat-icon>{{linkPowerValues ? 'link' : 'link_off'}}</mat-icon>
    </button>
  </div>

  <mat-form-field [appearance]="fieldAppearance">
    <mat-label i18n="@@invoice-configuration.valley-hired-power.label"
      >Valley power</mat-label
    >
    <input
      matInput
      type="number"
      step="0.1"
      min="0"
      max="10"
      formControlName="valleyHiredPower"
      placeholder="Valley power"
      i18n-placeholder="@@invoice-configuration.valley-hired-power.label"
    />
    <span matSuffix i18n="@@invoice-configuration.valley-hired-power.suffix">
      kW
    </span>

    <mat-error
      *ngIf="
      form.get('valleyHiredPower').hasError('required')"
      i18n="@@invoice-configuration.validation-errors.valley-hired-power.required"
      >Valley power is required</mat-error
    >
    <mat-error
      *ngIf="
      !form.get('valleyHiredPower').hasError('required') && form.get('valleyHiredPower').hasError('min')"
      i18n="@@invoice-configuration.validation-errors.valley-hired-power.min"
      >Value cannot be negative</mat-error
    >
    <mat-error
      *ngIf="
      !form.get('valleyHiredPower').hasError('required') && form.get('valleyHiredPower').hasError('max')"
      i18n="@@invoice-configuration.validation-errors.valley-hired-power.max"
      >Power must be below 10 kW</mat-error
    >
  </mat-form-field>
</form>
